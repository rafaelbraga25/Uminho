<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Main</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Main.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Main</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Conjunto de fun&#231;&#245;es que determinam a pr&#243;xima posi&#231;&#227;o do <em>robot</em> ap&#243;s a execu&#231;&#227;o do primeiro comando. Come&#231;a-se por verificar se a instru&#231;&#227;o &#233; poss&#237;vel de executar na posi&#231;&#227;o actual. Se o comando for poss&#237;vel de executar, calcula-se a nova posi&#231;&#227;o, apresentando-a no fim. Caso o comando n&#227;o seja poss&#237;vel, &#233; apresentada a mensagem <em>ERRO</em>. 
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Size">Size</a> = (Int, Int)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Coord">Coord</a> = (Int, Int, Char)</li><li class="src short"><span class="keyword">type</span> <a href="#t:State">State</a> = ([String], <a href="Main.html#t:Coord">Coord</a>, Char, <a href="Main.html#t:Size">Size</a>)</li><li class="src short"><a href="#v:main">main</a> :: IO ()</li><li class="src short"><a href="#v:process">process</a> :: [String] -&gt; String</li><li class="src short"><a href="#v:separateTab">separateTab</a> :: [String] -&gt; ([String], Int, String, String)</li><li class="src short"><a href="#v:getCoords">getCoords</a> :: [String] -&gt; <a href="Main.html#t:Coord">Coord</a></li><li class="src short"><a href="#v:locate">locate</a> :: [String] -&gt; <a href="Main.html#t:Coord">Coord</a> -&gt; Int -&gt; Char</li><li class="src short"><a href="#v:isValidCommand">isValidCommand</a> :: <a href="Main.html#t:State">State</a> -&gt; Char -&gt; Bool</li><li class="src short"><a href="#v:walk">walk</a> :: <a href="Main.html#t:State">State</a> -&gt; Bool</li><li class="src short"><a href="#v:jump">jump</a> :: <a href="Main.html#t:State">State</a> -&gt; Bool</li><li class="src short"><a href="#v:left">left</a> :: Char -&gt; Char</li><li class="src short"><a href="#v:right">right</a> :: Char -&gt; Char</li><li class="src short"><a href="#v:changePosition">changePosition</a> :: <a href="Main.html#t:Coord">Coord</a> -&gt; Char -&gt; String</li><li class="src short"><a href="#v:moveRobot">moveRobot</a> :: <a href="Main.html#t:Coord">Coord</a> -&gt; <a href="Main.html#t:Coord">Coord</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Size" class="def">Size</a> = (Int, Int)</p><div class="doc"><p><em>Size</em> &#233; o tipo de vari&#225;vel das dimens&#245;es da matriz (altura e largura). 
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Coord" class="def">Coord</a> = (Int, Int, Char)</p><div class="doc"><p><em>Coord</em> &#233; o tipo de vari&#225;vel das coordenadas do <em>robot</em>. 
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:State" class="def">State</a> = ([String], <a href="Main.html#t:Coord">Coord</a>, Char, <a href="Main.html#t:Size">Size</a>)</p><div class="doc"><p><em>State</em> &#233; o tipo de vari&#225;vel que cont&#233;m o estado do <em>robot</em>. 
</p></div></div><div class="top"><p class="src"><a name="v:main" class="def">main</a> :: IO ()</p><div class="doc"><p><code><a href="Main.html#v:main">main</a></code> Recebe o <em>std input</em> de um ficheiro. Devolve a mensagem resultante da fun&#231;&#227;o <em>process</em>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;aaa\nbbb\nccc\n0 0 N\nASDE&quot;
</code></strong>ERRO
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>aaa\nbbb\nccc\n0 0 N\nSEAL&quot;
</code></strong>0 1 N
</pre></div></div><div class="top"><p class="src"><a name="v:process" class="def">process</a> :: [String] -&gt; String</p><div class="doc"><p><code><a href="Main.html#v:process">process</a></code> faz o processamento do tabuleiro e verifica se &#233; poss&#237;vel executar o comando. Se for poss&#237;vel, apresenta as novas coordenadas. Caso contr&#225;rio, apresenta a mensagem <em>ERRO</em>. 
</p></div></div><div class="top"><p class="src"><a name="v:separateTab" class="def">separateTab</a> :: [String] -&gt; ([String], Int, String, String)</p><div class="doc"><p><code><a href="Main.html#v:separateTab">separateTab</a></code> separa o <em>std input</em>, devolvendo um tuplo com as linhas do tabuleiro, o n&#250;mero de linhas do tabuleiro, a linha com as coordenadas iniciais e a linha com os comandos.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;aaa\nbbb\nccc\n0 0 N\nASDE&quot;
</code></strong>([&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;], 3, &quot;0 0 N&quot;, &quot;ASDE&quot;)
</pre></div></div><div class="top"><p class="src"><a name="v:getCoords" class="def">getCoords</a> :: [String] -&gt; <a href="Main.html#t:Coord">Coord</a></p><div class="doc"><p><code><a href="Main.html#v:getCoords">getCoords</a></code> calcula as coordenadas iniciais. Recebe uma linha com as coordenadas inicias e devolve um tuplo com dois inteiros e um car&#225;ter.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>[&quot;0&quot;,&quot;0&quot;,&quot;N&quot;]
</code></strong>(0, 0, 'N')
</pre></div></div><div class="top"><p class="src"><a name="v:locate" class="def">locate</a> :: [String] -&gt; <a href="Main.html#t:Coord">Coord</a> -&gt; Int -&gt; Char</p><div class="doc"><p><code><a href="Main.html#v:locate">locate</a></code> localiza um car&#225;ter no tabuleiro a partir das suas coordenadas, devolvendo-o no final.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>[&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;] (0, 0, N) 3
</code></strong>'c'
</pre></div></div><div class="top"><p class="src"><a name="v:isValidCommand" class="def">isValidCommand</a> :: <a href="Main.html#t:State">State</a> -&gt; Char -&gt; Bool</p><div class="doc"><p><code><a href="Main.html#v:isValidCommand">isValidCommand</a></code> chama a fun&#231;&#227;o necess&#225;ria para verificar se o comando a excutar &#233; v&#225;lido na posi&#231;&#227;o do <em>robot</em>.	
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>[&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;] (0, 0, N) 'S' 'c' (3, 3)
</code></strong>True
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>[&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;] (0, 0, N) 'A' 'c' (3, 3)
</code></strong>False
</pre></div></div><div class="top"><p class="src"><a name="v:walk" class="def">walk</a> :: <a href="Main.html#t:State">State</a> -&gt; Bool</p><div class="doc"><p><code><a href="Main.html#v:walk">walk</a></code> &#233; chamada quando o comando a ser executado &#233; A (Andar). Verifica se na posi&#231;&#227;o actual a instru&#231;&#227;o &#233; poss&#237;vel de executar. Devolve True caso seja poss&#237;vel. 
</p></div></div><div class="top"><p class="src"><a name="v:jump" class="def">jump</a> :: <a href="Main.html#t:State">State</a> -&gt; Bool</p><div class="doc"><p><code><a href="Main.html#v:jump">jump</a></code> &#233; chamada quando o comando a ser executado &#233; S (Saltar). Verifica se na posi&#231;&#227;o actual a instru&#231;&#227;o &#233; poss&#237;vel de executar. Devolve True caso seja poss&#237;vel. 
</p></div></div><div class="top"><p class="src"><a name="v:left" class="def">left</a> :: Char -&gt; Char</p><div class="doc"><p><code><a href="Main.html#v:left">left</a></code> &#233; invocada quando a instru&#231;&#227;o a executar &#233; E (Esquerda - left), alterando a orienta&#231;&#227;o do <em>robot</em>.
</p></div></div><div class="top"><p class="src"><a name="v:right" class="def">right</a> :: Char -&gt; Char</p><div class="doc"><p><code><a href="Main.html#v:right">right</a></code> &#233; invocada quando a instru&#231;&#227;o a executar &#233; D (Direita - right), alterando a orienta&#231;&#227;o do <em>robot</em>.
</p></div></div><div class="top"><p class="src"><a name="v:changePosition" class="def">changePosition</a> :: <a href="Main.html#t:Coord">Coord</a> -&gt; Char -&gt; String</p><div class="doc"><p><code><a href="Main.html#v:changePosition">changePosition</a></code> &#233; chamada quando a instru&#231;&#227;o &#233; poss&#237;vel de executar. A partir do comando, poder&#225; apresentar as coordenadas (quando n&#227;o se alteram) ou chamar um fun&#231;&#227;o que as altere, apresentando-as depois.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(0, 0, 'N') 'E'
</code></strong>(0, 0, 'O')
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(0, 0, 'N') 'S'
</code></strong>(0, 1, 'N')
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(0, 0, 'E') 'A'
</code></strong>(1, 0, 'E') 
</pre></div></div><div class="top"><p class="src"><a name="v:moveRobot" class="def">moveRobot</a> :: <a href="Main.html#t:Coord">Coord</a> -&gt; <a href="Main.html#t:Coord">Coord</a></p><div class="doc"><p><code><a href="Main.html#v:moveRobot">moveRobot</a></code> altera a coordenada x ou y, caso o comando S ou A sejam v&#225;lidos. As novas coordenadas dependem da orienta&#231;&#227;o do robot.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(1, 0, 'O')
</code></strong>(0, 0, 'O')
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>